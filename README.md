# Stream processing: First click attribution

This project simulates a **real-time e-commerce use case**: identifying which user clicks led to product purchases (checkouts).  

**Use Case:** Consider an e-commerce website. An everyday use case is to **attribute a purchase to the click that led to it**. Attribution is the process of joining a product checkout with a click event. There are multiple types of attribution; in this project, we focus on **First Click Attribution**.

**Objectives:**

1. **Enrich checkout data** with the user's name. The user information is stored in a transactional database (Postgres).  
2. **Identify which click leads to a checkout (attribution):** For every product checkout, we consider the earliest click a user made on that product in the **previous hour** as the click that led to the checkout.  
3. **Log the checkouts and attributed clicks** into a Postgres table for analysis.

## Components

- **Source System:** Click and checkout events generated by the Python data generator and sent to Kafka topics.  
- **Processing System:** Apache Flink job that:
  - Reads click and checkout data from Kafka
  - Enriches checkout data with user info from Postgres
  - Joins clicks with checkouts for attribution
  - Writes the result to Postgres  
- **Sink System:** Postgres table `commerce.attributed_checkouts` storing enriched checkouts with attributed clicks. 
